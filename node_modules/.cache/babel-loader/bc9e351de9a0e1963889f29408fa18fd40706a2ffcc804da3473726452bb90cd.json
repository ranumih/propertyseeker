{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ahamed Sabith\\\\OneDrive\\\\Documents\\\\PropertySeeker\\\\src\\\\components\\\\Favourites.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Favourites = ({\n  children,\n  properties\n}) => {\n  _s();\n  const [favorites, setFavorites] = useState([]);\n  const [showFavorites, setShowFavorites] = useState(false); // State to manage the visibility of the favorites container\n  const [showClearConfirmation, setShowClearConfirmation] = useState(false);\n\n  // Load favorites from local storage\n  useEffect(() => {\n    const savedFavorites = localStorage.getItem('favorites');\n    if (savedFavorites) {\n      setFavorites(JSON.parse(savedFavorites));\n    }\n  }, []);\n\n  // Save favorites to local storage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('favorites', JSON.stringify(favorites));\n  }, [favorites]);\n  const toggleFavorite = propertyId => {\n    setFavorites(prevFavorites => {\n      if (prevFavorites.includes(propertyId)) {\n        return prevFavorites.filter(id => id !== propertyId); // Remove from favorites\n      } else {\n        return [...prevFavorites, propertyId]; // Add to favorites\n      }\n    });\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.currentTarget.classList.add('active');\n    console.log(\"Dragging Over\");\n  };\n  const handleDragLeave = e => {\n    e.currentTarget.classList.remove('active');\n    console.log(\"Drag leave\");\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('active');\n    const propertyId = parseInt(e.dataTransfer.getData('propertyId'), 10);\n    console.log(`Dropped property with ID: ${propertyId}`);\n    toggleFavorite(propertyId);\n    console.log(\"PropertyId: \" + propertyId + \" Dragging  Dropped\");\n  };\n  const handleClearFavorites = () => {\n    setShowClearConfirmation(true);\n  };\n  const clearFavorites = () => {\n    setFavorites([]);\n    localStorage.removeItem('favorites');\n  };\n  const confirmClearFavorites = () => {\n    clearFavorites();\n    setShowClearConfirmation(false);\n  };\n  const cancelClearFavorites = () => {\n    setShowClearConfirmation(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"favorites-toggle\",\n      onClick: () => setShowFavorites(!showFavorites),\n      children: showFavorites ? 'Hide Favourites' : 'Show Favourites'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), showFavorites && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"favorites-container droppable\",\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave,\n      onDrop: handleDrop,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Favorite Properties\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), showClearConfirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clear-confirmation\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to clear all favorites?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: confirmClearFavorites,\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: cancelClearFavorites,\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: favorites.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Drag properties here to add to favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this) : properties.filter(property => favorites.includes(property.id)).map(property => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"favorite-item\",\n          draggable: true,\n          onDragStart: e => {\n            e.dataTransfer.setData('propertyId', property.id.toString());\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: property.picture,\n            alt: property.title,\n            className: \"favorite-item-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"name-in-fav\",\n              children: property.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"price-in-fav\",\n              children: [\"\\xA3 \", property.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleFavorite(property.id),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 21\n          }, this)]\n        }, property.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClearFavorites,\n        className: \"clear-fav-btn\",\n        children: \"Clear All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), children({\n      favorites,\n      toggleFavorite\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(Favourites, \"U8Eg+7CXjqIn0Vf03fgxvqwM27c=\");\n_c = Favourites;\nexport default Favourites;\nvar _c;\n$RefreshReg$(_c, \"Favourites\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Favourites","children","properties","_s","favorites","setFavorites","showFavorites","setShowFavorites","showClearConfirmation","setShowClearConfirmation","savedFavorites","localStorage","getItem","JSON","parse","setItem","stringify","toggleFavorite","propertyId","prevFavorites","includes","filter","id","handleDragOver","e","preventDefault","currentTarget","classList","add","console","log","handleDragLeave","remove","handleDrop","parseInt","dataTransfer","getData","handleClearFavorites","clearFavorites","removeItem","confirmClearFavorites","cancelClearFavorites","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onDragOver","onDragLeave","onDrop","length","property","map","draggable","onDragStart","setData","toString","src","picture","alt","title","price","_c","$RefreshReg$"],"sources":["C:/Users/Ahamed Sabith/OneDrive/Documents/PropertySeeker/src/components/Favourites.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n\r\nconst Favourites = ({ children, properties }) => {\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [showFavorites, setShowFavorites] = useState(false); // State to manage the visibility of the favorites container\r\n  const [showClearConfirmation, setShowClearConfirmation] = useState(false);\r\n\r\n  // Load favorites from local storage\r\n  useEffect(() => {\r\n    const savedFavorites = localStorage.getItem('favorites');\r\n    if (savedFavorites) {\r\n      setFavorites(JSON.parse(savedFavorites));\r\n    }\r\n  }, []);\r\n\r\n  // Save favorites to local storage whenever it changes\r\n  useEffect(() => {\r\n    localStorage.setItem('favorites', JSON.stringify(favorites));\r\n  }, [favorites]);\r\n\r\n  const toggleFavorite = (propertyId) => {\r\n    setFavorites((prevFavorites) => {\r\n      if (prevFavorites.includes(propertyId)) {\r\n        return prevFavorites.filter(id => id !== propertyId); // Remove from favorites\r\n      } else {\r\n        return [...prevFavorites, propertyId]; // Add to favorites\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n    e.currentTarget.classList.add('active');\r\n    console.log(\"Dragging Over\");\r\n  };\r\n\r\n  const handleDragLeave = (e) => {\r\n    e.currentTarget.classList.remove('active');\r\n    console.log( \"Drag leave\");\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.currentTarget.classList.remove('active');\r\n    const propertyId = parseInt(e.dataTransfer.getData('propertyId'), 10);\r\n    console.log(`Dropped property with ID: ${propertyId}`);\r\n    toggleFavorite(propertyId);\r\n\r\n    console.log(\"PropertyId: \" +propertyId + \" Dragging  Dropped\");\r\n  };\r\n\r\n  const handleClearFavorites = () => {\r\n    setShowClearConfirmation(true); \r\n  };\r\n\r\n  const clearFavorites = () => {\r\n    setFavorites([]);\r\n    localStorage.removeItem('favorites');\r\n  };\r\n\r\n  const confirmClearFavorites = () => {\r\n    clearFavorites();\r\n    setShowClearConfirmation(false);\r\n  };\r\n\r\n  const cancelClearFavorites = () => {\r\n    setShowClearConfirmation(false); \r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button \r\n        className=\"favorites-toggle\" \r\n        onClick={() => setShowFavorites(!showFavorites)}\r\n      >\r\n        {showFavorites ? 'Hide Favourites' : 'Show Favourites'}\r\n      </button>\r\n      {showFavorites && (\r\n        <div \r\n          className=\"favorites-container droppable\"\r\n          onDragOver={handleDragOver}\r\n          onDragLeave={handleDragLeave}\r\n          onDrop={handleDrop}\r\n        >\r\n          <h2>Favorite Properties</h2>\r\n          {showClearConfirmation && (\r\n            <div className=\"clear-confirmation\">\r\n              <p>Are you sure you want to clear all favorites?</p>\r\n              <button onClick={confirmClearFavorites}>Yes</button>\r\n              <button onClick={cancelClearFavorites}>No</button>\r\n            </div>\r\n          )}\r\n          <div>\r\n            {favorites.length === 0 ? (\r\n              <p>Drag properties here to add to favorites</p>\r\n            ) : (\r\n              properties\r\n                .filter(property => favorites.includes(property.id))\r\n                .map(property => (\r\n                  <div\r\n                    key={property.id}\r\n                    className=\"favorite-item\"\r\n                    draggable\r\n                    onDragStart={(e) => {\r\n                      e.dataTransfer.setData('propertyId', property.id.toString());\r\n                    }}\r\n                  >\r\n                    <img src={property.picture} alt={property.title} className=\"favorite-item-img\" />\r\n                    <div>\r\n                      <h4 className='name-in-fav'>{property.title}</h4>\r\n                      <p className='price-in-fav'>£ {property.price}</p>\r\n                      <button onClick={() => toggleFavorite(property.id)}>Remove</button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n            )}\r\n          </div>\r\n          <button onClick={handleClearFavorites} className=\"clear-fav-btn\">Clear All</button>\r\n        </div>\r\n      )}\r\n      {children({ favorites, toggleFavorite })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favourites;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}